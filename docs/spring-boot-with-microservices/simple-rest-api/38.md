---
id: connect-rest-api-to-mysql
title: Connect REST API to MySQL with Docker
sidebar_label: Connect to MySQL (Docker)
---

In this guide, we connect a **Spring Boot REST API** to a **MySQL database**
using **Docker**. Weâ€™ll configure Spring Boot properties, update Maven
dependencies, test using REST API tools, and verify persistence with **MySQL
Shell**.

---

## ğŸ§  Key Concepts

### ğŸ³ Why Use Docker for MySQL?

Instead of installing MySQL locally, we run it as a **Docker container**:

```bash
docker run --name=mysql -e MYSQL_ROOT_PASSWORD=dummypassword \
-e MYSQL_USER=social-media-user \
-e MYSQL_PASSWORD=dummypassword \
-e MYSQL_DATABASE=social-media-database \
-p 3306:3306 -d mysql:8-oracle
```

- `mysql:8-oracle` â†’ Optimized for cross-platform (Mac, Windows, Linux)
- `-e` â†’ Sets credentials and DB name
- `-p` â†’ Maps MySQL port to local machine
- `-d` â†’ Runs in background

> âœ… Docker gives you a clean, isolated environment for database testing.

---

### âš™ï¸ Spring Boot Configuration (`application.properties`)

```properties
# H2 (in-memory) - comment out
# spring.datasource.url=...
# spring.datasource.driver-class-name=...

# MySQL (persistent)
spring.datasource.url=jdbc:mysql://localhost:3306/social-media-database
spring.datasource.username=social-media-user
spring.datasource.password=dummypassword

# JPA + Hibernate
spring.jpa.hibernate.ddl-auto=update
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect
```

- `ddl-auto=update` â†’ Creates/updates schema automatically
- `MySQLDialect` â†’ Ensures compatibility with MySQL syntax

> âš ï¸ Use `ddl-auto=validate` or `none` in production to avoid unwanted schema
> changes.

---

### ğŸ“¦ Add MySQL Connector in `pom.xml`

#### Spring Boot â‰¥ 3.1

```xml
<dependency>
  <groupId>com.mysql</groupId>
  <artifactId>mysql-connector-j</artifactId>
</dependency>
```

#### Spring Boot â‰¤ 3.0

```xml
<dependency>
  <groupId>mysql</groupId>
  <artifactId>mysql-connector-java</artifactId>
</dependency>
```

> ğŸ“¦
> [MySQL ConnectorJ Coordinate Changes](https://blogs.oracle.com/mysql/post/mysql-connectorj-has-new-maven-coordinates)

---

## ğŸš€ Running and Verifying

### âœ… Start MySQL Container

```bash
docker container ls
```

Make sure it's up and running.

---

### ğŸš€ Run Spring Boot App

Hibernate will detect the MySQL configuration and auto-create tables.

---

### âŒ `data.sql` Limitation

> `data.sql` only runs for **in-memory** databases.

To add test data with MySQL:

- Use REST API calls
- Or insert manually using MySQL Shell

---

## ğŸ”¬ Testing with Talend API Tester

### ğŸ‘¤ Create a User

```http
POST localhost:8080/jpa/users
Content-Type: application/json

{
  "name": "Ravi",
  "birthDate": "2000-01-01"
}
```

### ğŸ“ Create Posts

```http
POST localhost:8080/jpa/users/1/posts
Content-Type: application/json

{
  "description": "I am learning MySQL"
}

{
  "description": "I want to get AWS certified"
}
```

### ğŸ“¥ Retrieve Data

```http
GET localhost:8080/jpa/users
GET localhost:8080/jpa/users/1/posts
```

---

## ğŸš Verifying with MySQL Shell (`mysqlsh`)

### ğŸ› ï¸ Install & Launch

```bash
mysqlsh
```

### ğŸ” Connect

```sql
\connect social-media-user@localhost:3306
# Enter password: dummypassword
```

### ğŸ“‚ Use Schema

```sql
\use social-media-database
\sql
```

### ğŸ“Š Query Data

```sql
SELECT * FROM user_details;
SELECT * FROM post;
```

---

## ğŸ’¾ H2 vs MySQL

| Feature          | H2 (In-Memory)     | MySQL (Docker)          |
| ---------------- | ------------------ | ----------------------- |
| Storage          | RAM                | Disk (Docker volume)    |
| Persistence      | âŒ Lost on restart | âœ… Retained             |
| Setup Time       | âš¡ Super fast      | ğŸ¢ Slower but realistic |
| Production Ready | âŒ No              | âœ… Yes                  |

---

## âœ… Persistence Confirmed

After restarting the app, data remains available â€” confirming durable storage
with MySQL.

---

## ğŸ§ª Hands-On Exercise

---

## ğŸ§  Mini Quizzes

---

## ğŸ“˜ Summary

- âœ… MySQL container is managed via Docker
- ğŸ”Œ Spring Boot connects using JDBC and JPA
- ğŸ—ï¸ Hibernate auto-generates tables
- ğŸ§ª REST APIs test DB writes
- ğŸš MySQL Shell confirms data persistence
- ğŸ’¡ Persistence is real â€” unlike in-memory H2

---
