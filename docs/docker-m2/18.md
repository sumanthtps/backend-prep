---

title: Sourcing Other Docker Images with `FROM`
sidebar_position: 45
---------------------

## Introduction

Every Docker image starts **from** somewhere—and that “somewhere” is defined by the `FROM` instruction in a Dockerfile.

The `FROM` statement is **mandatory** and is usually the **first command** in every Dockerfile. It tells Docker:

* What **base image** to use,
* Where to **inherit layers** from,
* How to **bootstrap** your custom image.

This topic explains the different ways to use `FROM`, the purpose of base images, and the special case of `scratch`.

---

## What Does `FROM` Do?

```dockerfile
FROM ubuntu
```

This is the most basic form of the `FROM` instruction.

When Docker processes this:

- It fetches the **latest version** of the `ubuntu` image (if not already
  cached).
- All the **layers** in that base image are **prepended** to your custom image.

This is what enables your container to **have a Linux file system, package
managers, binaries, etc.**—without you having to build them from scratch.

---

## Visual Representation

> 📌 _Docker prepends the layers of the base image under your own layers:_

```text
Your Dockerfile Layers
   └── RUN apt install curl
        └── COPY app.js /usr/src/app
             └── FROM ubuntu:22.04   ← base image layers
```

---

## Why Use Base Images?

### Benefits:

- Saves **time and effort**—you don’t need to construct a root filesystem
  manually.
- Promotes **reuse and consistency** across projects.
- You can start from well-maintained images like:

  - `ubuntu`
  - `node`
  - `python`
  - `alpine` (minimalist)

- You can **customize** and add your own application layers on top.

---

## FROM Syntax Variants

### 1. **Default latest tag**

```dockerfile
FROM ubuntu
```

- Fetches the latest version of `ubuntu`.
- Risk: Docker Hub may update "latest", potentially introducing changes or
  breaking compatibility.

---

### 2. **Version Pinning (Image Tagging)**

```dockerfile
FROM ubuntu:20.04
```

- Locks your image to a **specific version**.
- Avoids surprises when Docker Hub updates `latest`.
- **Best practice** in production.

---

### 3. **FROM scratch (Blank Slate)**

```dockerfile
FROM scratch
```

- Starts with **nothing**—no shell, no packages.
- Used to create **minimalist, secure** images (e.g., Go static binaries).
- Requires deep OS and application knowledge.
- No base filesystem—**you must provide everything manually.**

> ⚠️ _Only recommended for advanced users building micro-optimized containers._

---

### 4. **Multi-stage Builds**

```dockerfile
FROM node:18 AS builder
FROM alpine

COPY --from=builder /app/dist /app
```

- First stage (named `builder`) compiles app.
- Second stage copies only the necessary output.
- Helps **reduce image size** by avoiding build-time dependencies.

---

## Rules of `FROM` Placement

- Must be the **first non-comment instruction**.
- **Only exceptions**:

  - `ARG` (used to define build-time variables),
  - `ENV` (defines environment variables),
  - Comments (`# ...`).

---

## Real-world Example

```dockerfile
# This image is awesome!
FROM ubuntu:22.04
RUN apt-get update && apt-get install -y curl
```

> Creates an image based on Ubuntu 22.04 with `curl` installed.

---

## Summary

| Syntax                | Description                |
| --------------------- | -------------------------- |
| `FROM ubuntu`         | Uses latest Ubuntu image   |
| `FROM ubuntu:20.04`   | Pins to Ubuntu 20.04       |
| `FROM scratch`        | Blank base image           |
| `FROM image AS alias` | Used in multi-stage builds |

---

## Questions & Answers

**Q1: Why is `FROM` required?** **A:** It defines the **base image** and sets up
the root filesystem. Without it, Docker won’t know what to build on.

**Q2: What’s the difference between `FROM ubuntu` and `FROM ubuntu:20.04`?**
**A:** The first pulls the latest available tag. The second **pins** to a
specific version (safer for reproducibility).

**Q3: What is `FROM scratch` used for?** **A:** To build **minimal images** with
no base OS—used mostly for **static binaries**.

**Q4: Can you have multiple `FROM` lines in a Dockerfile?** **A:** Yes, but they
create **independent build stages** (used in multi-stage builds).

**Q5: Can I add `ENV` or `ARG` before `FROM`?** **A:** Yes. Docker allows `ARG`
and `ENV` before `FROM`, but **other instructions** must come **after** `FROM`.

---

## Recap

- The `FROM` command is the **foundation** of any Dockerfile.
- It tells Docker which **base image** to use.
- Supports multiple formats: default, pinned version, scratch, alias.
- Plays a key role in **image layering**, reusability, and portability.

You’re now ready to build on top of existing images or start from scratch like a
pro.
