---

id: creating-bind-mounts
title: Creating Bind Mounts
sidebar_label: Creating Bind Mounts
sidebar_position: 78
---------------------

## Summary

Bind mounts allow you to **directly mount a folder from your host machine into a container**. This is particularly useful for local development (hot reloading), testing, backups, and ad-hoc data sharing between containers and the host without needing to manage Docker volumes.

---

## Key Concepts

### ‚úÖ What is a Bind Mount?

Bind mounts link a **host folder or file** to a **location inside a container**.

- ‚úÖ Host changes are reflected inside the container
- ‚úÖ Container changes are reflected on the host
- ‚ö†Ô∏è Requires **careful handling** since file permissions and relative paths can
  cause unexpected issues

---

## üì¶ Use Cases

- Running tests or code **without rebuilding** images
- **Hot reloading** web apps during development
- Temporarily sharing config or SQL files into a container
- **Backup and restore** data from volumes

---

## üß± Syntax

### ‚úÖ Long form (`--mount`)

```bash
docker run --rm \
  --mount type=bind,source=/abs/path/on/host,target=/container/path \
  alpine
```

| Option             | Description                                 |
| ------------------ | ------------------------------------------- |
| `type=bind`        | Specifies bind mount                        |
| `source=`          | Path on the **host**                        |
| `target=`          | Path inside the **container**               |
| `readonly` (opt)   | Makes the bind mount read-only              |
| `bind-propagation` | Advanced Linux mount behavior (rarely used) |
| `selinux-label`    | SELinux sharing rule (on specific systems)  |

---

### ‚úÖ Short form (`-v` or `--volume`)

```bash
docker run --rm \
  -v /abs/path/on/host:/container/path \
  alpine
```

- Add `:ro` to make it read-only:

  ```bash
  -v /abs/path:/container/path:ro
  ```

---

## ‚ö†Ô∏è Absolute Paths Only (in short form)

The source directory **must** be an **absolute path** when using `-v`.

### ‚ùå May fail:

```bash
docker run -v ./mydir:/app alpine
```

### ‚úÖ Recommended:

```bash
docker run -v "$PWD/mydir:/app" alpine
```

Or use `realpath`:

```bash
docker run -v "$(realpath mydir):/app" alpine
```

---

## üí° Example: Mounting a Folder with Test Files

```bash
mkdir -p /tmp/lima/stuff

for i in {1..10}; do
  echo "This is file number $i" > /tmp/lima/stuff/file-$i
done
```

Now run a container:

```bash
docker run --rm -v /tmp/lima/stuff:/stuff alpine ls /stuff
```

Output:

```
file-1
file-2
...
file-10
```

---

## ‚úÖ Writing from Container to Host

You can also write files _from within the container_, and they'll appear on your
host:

```bash
docker run --rm \
  -v /tmp/lima/stuff:/stuff \
  alpine \
  sh -c "echo 'Added from container' > /stuff/from-container.txt"
```

Then check from host:

```bash
cat /tmp/lima/stuff/from-container.txt
```

Output:

```
Added from container
```

---

## ‚ö†Ô∏è Common Pitfall: File vs Folder

If the **source path doesn't exist**, Docker **creates it as a folder** ‚Äî even
if you meant to bind a file.

```bash
# Intended file bind, but source doesn't exist
docker run -v /tmp/foo.txt:/data/foo.txt alpine

# On host: /tmp/foo.txt becomes a folder!
```

‚úîÔ∏è Always create the source file/folder beforehand to avoid surprises.

---

## Bind Mount vs Volume

| Feature               | Bind Mount            | Docker Volume                      |
| --------------------- | --------------------- | ---------------------------------- |
| Location              | Any host directory    | Managed by Docker (`/var/lib/...`) |
| Persistence           | Tied to host path     | Independent of host directory      |
| Ideal for             | Dev/test, live reload | Prod, database/data storage        |
| Backup via filesystem | ‚úÖ Easy               | ‚ùå Needs Docker APIs or copying    |
| Requires manual setup | ‚úÖ                    | ‚ùå (`docker volume create`)        |

---

## Questions and Answers

### Q1: What happens if you mount a nonexistent file using `-v`?

**A:** Docker creates it as a **directory**, not a file.

---

### Q2: What‚Äôs a common use of bind mounts in web development?

**A:** **Hot reloading**: Mount source code to container so changes reflect
without rebuild.

---

### Q3: What‚Äôs the difference between `--mount` and `-v`?

**A:** `--mount` is **more explicit** and supports advanced configs. `-v` is
**shorter** and more common for simple cases.

---

### Q4: Why might `./stuff:/stuff` fail on some systems?

**A:** Because `./stuff` is **not an absolute path**. Use `$PWD/stuff` instead.

---

## Useful Links

- [Docker Bind Mount Docs](https://docs.docker.com/storage/bind-mounts/)
- [SELinux Labels in Docker](https://docs.docker.com/storage/bind-mounts/#configure-the-selinux-label)

---
