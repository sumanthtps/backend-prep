---

id: volume-and-overlay-networking-quiz
title: Docker Volumes and Overlay Networking - Quiz Review
sidebar_label: Volumes & Overlay Quiz
sidebar_position: 82
---------------------

## Summary

This quiz tested advanced Docker volume handling, persistent logging, and overlay networking. Below is a breakdown of the correct answers, explanations, and why incorrect answers were wrong.

---

## Question 1

**Restore a backup of a volume `vol-1` from `/files/backup.tar.gz`. Which
command is correct?**

✅ **Correct:**

```bash
docker run --rm -v /files/backup.tar.gz:/backup.tar.gz -v vol-1:/volume alpine tar xvf /backup.tar.gz -C /volume
```

**Explanation:**

- `tar xvf`: Extracts the archive.
- `-C /volume`: Targets the mounted volume.
- This is the most efficient method using standard container and volume
  mounting.

❌ **Incorrect options:**

- `tar cvf` creates archives, not extract.
- `docker volume restore` and `docker load` are **non-existent** Docker CLI
  commands.
- `scp` method is inefficient and manual.

---

## Question 2

**Backup volume `vol-0` most efficiently.**

✅ **Correct:**

```bash
docker run --rm -v $(pwd):/folder -v vol-0:/volume alpine tar cvf /folder/backup.tar -C /volume .
```

**Explanation:**

- `tar cvf` creates an archive from the volume contents.
- Binds current directory to receive backup file.

❌ **Incorrect options:**

- `docker volume backup` and `docker save` are invalid.
- `tar xvf` is for extraction, not creation.

---

## Question 3

**Which command will NOT mount a volume read-only?**

✅ **Correct:**

```bash
docker run --rm -v vol-0:/tmp my-ctr
```

**Explanation:**

- This mounts **with read-write** permissions by default.

❌ **Incorrect options:**

- All other variants correctly use `:ro` or `readonly` to mount read-only.

---

## Question 4

**Store Docker volumes at `/opt/third-party/docker/volumes`, not default
`/var/lib/docker/volumes`.**

✅ **Correct:**

> Create a new `dockerd` config file, set `--data-root` to
> `/opt/third-party/docker/volumes`, and use `--config` to start Docker with
> this file.

**Explanation:**

- Docker's root directory is configurable via the `data-root` setting in the
  daemon config.

❌ **Incorrect options:**

- `custom local driver`: unnecessary complexity.
- `symlink`: might cause instability.
- Encrypting `/var/lib/docker` does not change volume location.

---

## Question 5

**Which command will NOT preserve logs at `/var/log/app.log` after container
exits?**

✅ **Correct:**

```bash
docker run --rm -v /app:/app my-app
```

**Explanation:**

- Does **not** map `/var/log`, so logs inside container will be lost.

❌ **Correct options (that do preserve logs):**

- Mounting volume to `/var/log` keeps logs
- Mapping file or directory directly ensures persistence

---

## Question 6

**Which component is NOT required for overlay networks?**

✅ **Correct:**

> The Docker Engine

**Explanation:**

- Overlay networks are implemented in container orchestrators like **Docker
  Swarm**, **Kubernetes**, **Nomad**, **not Docker Engine directly**.
- Actual components needed:

  - Virtual network device
  - Network tunnel (VXLAN/WireGuard)
  - Agents running on host

---

## Key Concepts Recap

| Topic                 | Key Point                                                                    |
| --------------------- | ---------------------------------------------------------------------------- |
| Volume backup/restore | Use `tar` inside Alpine container with volume mounts                         |
| Read-only volume      | Use `:ro` or `readonly` in `--mount` syntax                                  |
| Docker root directory | Controlled with `--data-root` in `dockerd`                                   |
| Logging persistence   | Logs must be written to **mounted volume**                                   |
| Overlay networks      | Require tunnels, virtual devices, and node agents—not Docker Engine directly |

---

## Links for Deeper Study

- [Docker Volume Guide](https://docs.docker.com/storage/volumes/)
- [Docker Logging Best Practices](https://docs.docker.com/config/containers/logging/configure/)
- [dockerd configuration options](https://docs.docker.com/engine/reference/commandline/dockerd/)
- [Overlay Networking](https://docs.docker.com/network/drivers/overlay/)

---
