---

title: Installing Docker Without Docker Desktop
sidebar_position: 33
---------------------

## Introduction

Docker Desktop is the easiest way to use Docker on Windows and Mac, bundling a GUI, CLI, and a Linux VM running the Docker Engine. However, there are scenarios where Docker Desktop is **not the ideal choice**:

* **Cost for enterprises** – Paid subscription required for companies with >250 employees or >\$10M revenue.
* **Remote environments** – Bandwidth-heavy GUIs can be inefficient over RDP or VNC.
* **Regulated industries** – Need for custom or hardened VMs running specific Linux distributions to meet compliance (e.g., NIST, ISO 27001).

For these cases, installing Docker **without Docker Desktop** gives more control and flexibility.

---

## Installing Docker on Mac (The Hard Way)

### 1. Using Lima + QEMU

Lima is a lightweight VM manager for macOS that runs Linux VMs using the QEMU
hypervisor.

#### Steps:

1. **Install Homebrew** (if not already installed):

   ```bash
   /bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
   ```

2. **Install Lima**:

   ```bash
   brew install lima
   ```

3. **Verify installation**:

   ```bash
   lima --help
   ```

---

### 2. Starting the Lima VM

1. Download a Docker-ready Lima configuration file (e.g.,
   `docker-rootful.yaml`).
2. Create a VM:

   ```bash
   limactl start ~/Downloads/docker-rootful.yaml --name=docker --tty=false
   ```

3. Follow the post-install instructions to connect the Docker CLI to the VM.

---

### 3. Install the Docker CLI

```bash
brew install docker
```

### 4. Configure Docker Context

```bash
docker context create lima-docker --docker "host=unix:///path/to/socket"
docker context use lima-docker
```

> `docker context` maps a Docker CLI to a specific Docker Engine socket.

Alternatively, use the `DOCKER_HOST` environment variable:

```bash
export DOCKER_HOST="unix:///path/to/socket"
```

---

### 5. Verify

```bash
docker run hello-world
```

You should see the "Hello from Docker!" message.

---

## Installing Docker on Windows Without Docker Desktop

### 1. Enable Windows Subsystem for Linux (WSL)

1. Open **Turn Windows Features On or Off**.
2. Enable:

   - **Virtual Machine Platform**
   - **Windows Subsystem for Linux**

3. Restart the system.

---

### 2. Install Ubuntu via WSL

1. Open PowerShell (Admin):

   ```powershell
   wsl --update
   wsl --shutdown
   wsl --list --online
   wsl --install -d Ubuntu
   ```

2. Set up your username and password.

---

### 3. Install Docker Inside WSL

```bash
curl -L https://get.docker.io | bash
sudo service docker start
```

### 4. Add User to Docker Group

```bash
sudo usermod -aG docker $USER
exit
```

Restart the shell and verify:

```bash
docker ps
docker run hello-world
```

---

## Key Points

- Docker Desktop wraps the Docker Engine in a managed VM with GUI.
- For cost-sensitive or highly regulated environments, installing Docker
  directly inside a Linux VM (Mac) or WSL (Windows) offers flexibility.
- Lima + QEMU on Mac and WSL on Windows provide a "native" way to run the Docker
  Engine without Docker Desktop.

---

## Questions and Answers

### Q1: Why avoid Docker Desktop?

**A:** To reduce licensing costs, gain control over the VM environment, or meet
compliance/security requirements.

---

### Q2: What is Lima?

**A:** A lightweight VM manager for macOS using QEMU to run Linux VMs. Perfect
for running Docker Engine without Docker Desktop.

---

### Q3: Can you use WSL 2 for Docker?

**A:** Yes. WSL 2 provides a Linux kernel inside Windows, allowing Docker Engine
to run natively.

---

### Q4: Why add the user to the Docker group?

**A:** Docker uses `/var/run/docker.sock` with root permissions. Adding your
user to the `docker` group grants access without `sudo`.

---

### Q5: What is the difference between Docker context and DOCKER_HOST?

**A:**

- `docker context` is a persistent configuration mapping CLI to an engine
  socket.
- `DOCKER_HOST` is a temporary environment variable, often used in scripts.
