---

id: docker-bridge-mode-networking
title: Creating Docker Networks with Bridge Mode Networking
sidebar_position: 71
---------------------

## Summary

This section explains how Docker containers use the **bridge network driver** by default, how they are able to talk to each other via that bridge, and how Docker manages networking using **Linux namespaces**, **virtual bridges**, and **IP tables**. It also explores isolating containers with custom bridge networks, their subnet calculations, and the use of `docker network`, `docker container create`, and `docker network connect` commands.

---

## Key Concepts

### 1. What is Bridge Mode Networking?

- Docker containers are **connected by default** to a bridge network.
- This **virtual bridge** forwards traffic between containers and from
  containers to the outside world.
- The default Docker bridge network is literally called `bridge`, and it uses
  Linux IP tables for isolation.

![Bridge Network](https://raw.githubusercontent.com/docker/labs/master/networking/static/img/bridge-network.png)
_Image Source: [Docker Labs GitHub](https://github.com/docker/labs)_

---

### 2. Linux Network Namespaces

Each container gets its own **isolated network namespace**, meaning:

- Independent IP address
- Separate routing tables
- Its own set of network interfaces

This is what allows containers to appear like they have their own “network
card”.

---

### 3. Subnet and CIDR (Classless Inter-Domain Routing)

The default `bridge` network typically uses:

- Gateway: `172.17.0.1`
- Subnet: `172.17.0.0/16` This allows **65,534 usable IP addresses** calculated
  by:

```
2^(32 - 16) - 2 = 65536 - 2 = 65534
```

> Subtract 2 for network and broadcast addresses.

Use online tools like
[calculator.net’s subnet calculator](https://www.calculator.net/ip-subnet-calculator.html)
for verifying.

---

### 4. Custom Bridge Networks

- You can create isolated bridge networks using:

  ```bash
  docker network create my-network
  ```

- Containers on the **same bridge network** can resolve each other **by name**,
  thanks to Docker's internal DNS.
- Containers on the **default `bridge` network** must know each other’s IPs
  (unless you use `--link`, which is deprecated).

---

### 5. `docker network` Commands

| Command                                        | Description                            |
| ---------------------------------------------- | -------------------------------------- |
| `docker network ls`                            | List all networks                      |
| `docker network inspect <network>`             | Get configuration details              |
| `docker network create --driver bridge <name>` | Create a bridge network                |
| `docker network connect <network> <container>` | Attach container to additional network |
| `docker container create/run --net <network>`  | Attach container to a specific network |

---

### 6. Experiment: Two Containers on Same vs Different Bridge Networks

#### ✅ Same Bridge Network

- Two containers `A` and `B` created on the default `bridge`:

  - Can ping each other using IP addresses like `172.17.0.2` and `172.17.0.3`.
  - They share a subnet and gateway.

#### ❌ Different Custom Networks

- Create:

  ```bash
  docker network create network-a
  docker network create network-b
  ```

- Start container `A` on `network-a` and `B` on `network-b`.

  - They get IPs like `172.18.0.2` and `172.19.0.2`.
  - They **cannot ping each other** by default.

#### ✅ Solution: Join `A` to `network-b`

```bash
docker container stop A
docker network connect network-b A
docker container start A
```

Now `A` has interfaces in both subnets and can ping `B`.

---

## Missing Improvements & Hidden Details

### 1. Why `/etc/hosts` Doesn't Help with DNS on Default Bridge

Even if containers can ping each other, **name resolution** doesn't work unless:

- You're using a custom network (Docker’s internal DNS works here).
- You manually add entries to `/etc/hosts`.
- Or use legacy `--link` (deprecated).

### 2. Difference Between Default `bridge` and Custom Bridge

| Feature        | Default `bridge` | Custom bridge |
| -------------- | ---------------- | ------------- |
| DNS resolution | ❌ No            | ✅ Yes        |
| Isolation      | Medium           | High          |
| Flexibility    | Low              | High          |

---

## Real-World Use Cases

- Create a **microservices environment** where each service is isolated in its
  own bridge network but can selectively connect.
- Use **multiple networks** to simulate segmented environments (e.g., front-end
  and back-end networks).
- Great for **local dev environments** where network topology mimics production
  architecture.

---

## Questions & Answers

### **Q1. Which Docker network mode allows containers to talk to each other and to the outside world by default?**

- A. `host`
- B. `none`
- C. `bridge`
- D. `overlay`

✅ **Answer: C. bridge**

**Explanation:** Docker uses the `bridge` network driver by default, allowing
containers to talk to each other and the outside world.

---

### **Q2. What’s the main difference between the default `bridge` network and a custom bridge network?**

- A. Custom networks use NAT; default doesn’t.
- B. Default bridge supports DNS; custom doesn't.
- C. Custom bridge supports DNS resolution by container name.
- D. There is no difference.

✅ **Answer: C.**

**Incorrect options:**

- **A**: Both use NAT.
- **B**: It's the reverse — custom supports DNS.
- **D**: There are functional differences.

---

### **Q3. How many usable IPs are in a `/16` subnet?**

- A. 2^16 = 65536
- B. 2^16 - 2 = 65534
- C. 2^16 - 1 = 65535
- D. 2^15 = 32768

✅ **Answer: B**

**Explanation:** 2^16 gives 65536 addresses, subtract 2 for network and
broadcast => 65534 usable.

---

## Notes

- Containers must be on the **same bridge** to communicate via IP.
- To enable **name-based DNS resolution**, use **custom networks**.
- `docker network connect` adds multiple network interfaces to containers,
  similar to adding a second NIC on a VM.

---

## Open-Source Image References

1. **Bridge Networking Diagram:**
   ![Bridge Networking](https://raw.githubusercontent.com/docker/labs/master/networking/static/img/bridge-network.png)
   Source: [Docker Labs](https://github.com/docker/labs)

2. **CIDR Subnet Calculator Tool:**
   ![CIDR Calculator](https://i.imgur.com/7k7b7dJ.png) Tool:
   [calculator.net subnet tool](https://www.calculator.net/ip-subnet-calculator.html)

---
