---

id: none-network-driver
title: Disabling Networking with the None Driver
sidebar_label: None Network Driver
sidebar_position: 73
---------------------

## Summary

Docker's `none` network driver **completely disables external networking** for a container. This means the container cannot communicate with **any other container**, the **host**, or the **internet**, except for itself using the **loopback interface (127.0.0.1)**.

---

## Key Concepts

### What is the `none` network driver?

- A special Docker network driver that:

  - **Removes all network interfaces except `lo`** (loopback)
  - **Disables all outbound or inbound traffic**
  - Allows the container to **only connect to itself** using `127.0.0.1` or
    `localhost`

```bash
docker run --rm -it --net=none \
  --entrypoint sh curlimages/curl
```

---

## Inside the Container

```bash
ifconfig
```

**Output:**

```text
lo: flags=73<UP,LOOPBACK,RUNNING>  mtu 65536
      inet 127.0.0.1  netmask 255.0.0.0
```

- No `eth0`, `docker0`, or virtual adapters
- Only loopback interface (`lo`)

---

### What works and what doesn't?

| Operation                     | Works? | Explanation                  |
| ----------------------------- | ------ | ---------------------------- |
| `ping 8.8.8.8`                | ‚ùå     | No route to external network |
| `ping 127.0.0.1`              | ‚úÖ     | Loopback always available    |
| `curl http://example.com`     | ‚ùå     | DNS and network unavailable  |
| Local services on `localhost` | ‚úÖ     | Works inside the container   |

---

## Visual Example

![None Network Driver Diagram](https://docs.docker.com/network/images/network-none.png)

_Source:
[Docker Networking Docs](https://docs.docker.com/network/network-tutorial-none/)_

---

## Use Cases for `--net=none`

| Use Case                          | Reason                                                       |
| --------------------------------- | ------------------------------------------------------------ |
| üß™ **Offline testing**            | Simulate isolated environments                               |
| üîê **Security sandboxing**        | Prevent any communication to host or internet                |
| üß∞ **Sidecar services**           | Only need IPC or filesystem-level communication              |
| ‚öôÔ∏è **Tightly controlled systems** | E.g., when running with custom user-defined networking later |

---

## Security Benefits

- **No chance of exfiltration**: Container cannot access external IPs
- **Limits lateral movement**: Cannot scan or ping other containers or host
  services
- Useful for:

  - Malware analysis
  - Running untrusted code in isolation
  - Minimizing attack surface

---

## Missing Topics Explained

| Topic                                | Explanation                                                                                     |
| ------------------------------------ | ----------------------------------------------------------------------------------------------- |
| **Loopback Interface**               | Every Linux container still needs loopback (`127.0.0.1`) for inter-process communication inside |
| **`--net=none` vs `--network none`** | Both are the same‚Äî`none` is an alias for the null driver                                        |
| **Creating custom none-networks**    | Rare but possible with `docker network create --driver=none my_null_net`                        |
| **Effect on Docker DNS**             | Since the DNS resolver runs on Docker‚Äôs bridge, DNS requests will fail completely               |
| **No firewall rules applied**        | No NAT or `iptables` used‚Äîit's as if the network doesn't exist                                  |

---

## Q\&A

### Q1: Can a container with `--net=none` access the internet?

**A:** No. All external networking is disabled. Only the loopback (`127.0.0.1`)
works.

---

### Q2: Why does `ping 127.0.0.1` work but `ping 8.8.8.8` fails?

**A:** Loopback is internal to the container. `8.8.8.8` requires a real
interface (`eth0`) which doesn't exist.

---

### Q3: Can I add a network later to a `none` container?

**A:** Yes, using `docker network connect`, but only if the container is **not
running**.

```bash
docker network connect my-bridge container-name
```

---

### Q4: Is `--net=none` more secure than using `bridge` or `host`?

**A:** Yes. It removes all network access, making it ideal for high-security or
restricted containers.

---

### Q5: What if I want to completely disable even loopback?

**A:** Not possible with Docker alone. You‚Äôd need additional isolation
techniques like seccomp, AppArmor, or even user namespaces + kernel hardening.

---

## External References

- [Docker Docs ‚Äì `none` Network Driver](https://docs.docker.com/network/drivers/none/)
- [Linux Loopback Interface Explanation](https://wiki.linuxfoundation.org/networking/loopback)
- [Docker CLI ‚Äì `docker network connect`](https://docs.docker.com/engine/reference/commandline/network_connect/)

---
