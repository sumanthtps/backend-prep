---

id: creating-docker-volumes
title: Creating Docker Volumes
sidebar_label: Creating Docker Volumes
sidebar_position: 77
---------------------

## Summary

Docker volumes provide a robust way to persist and manage data independent of the container lifecycle. This section covers how to create volumes, mount them using both `--mount` and `-v` syntax, inspect volumes, and verify data persistence even after containers are removed.

---

## Key Concepts

### ✅ Volume Creation

To create a volume:

```bash
docker volume create super-duper-important
```

- Uses the `local` driver by default.
- You can specify a custom driver using `-d`.
- Advanced options can be passed using `-o`.

---

### 🧱 Mounting Volumes

Docker supports **two ways** of mounting volumes:

#### 1. Using `--mount` (Long Form – Recommended for clarity)

```bash
docker run -it --rm \
  --mount type=volume,source=super-duper-important,destination=/super-important \
  alpine
```

**Key-value pairs:**

- `type`: must be `volume` (or `bind`, `tmpfs`)
- `source`: name of the volume
- `destination`: mount path inside the container
- `readonly`: (optional) make the mount read-only
- `volume-opt`: (optional) pass volume driver-specific options

#### 2. Using `-v` or `--volume` (Short Form – Concise but less readable)

```bash
docker run -it --rm \
  -v super-duper-important:/super-important \
  alpine
```

**Format:**

```bash
-v source:destination[:ro]
```

---

## 🔍 Inspecting Volumes

You can inspect volumes to find out where Docker stores the data:

```bash
docker volume inspect super-duper-important
```

Look for the `Mountpoint` property. It’ll look like:

```
/var/lib/docker/volumes/super-duper-important/_data
```

This directory on the host contains the actual data used by the container.

---

## 🔄 Live Data Demo

1. Create volume:

   ```bash
   docker volume create super-duper-important
   ```

2. Start a container with mount:

   ```bash
   docker run -it --rm \
     --mount type=volume,source=super-duper-important,destination=/super-important \
     alpine
   ```

3. Inside the container, create a file:

   ```bash
   echo "hello world" > /super-important/README
   ```

4. On host (or VM), inspect:

   ```bash
   sudo cat /var/lib/docker/volumes/super-duper-important/_data/README
   ```

5. Remove the container. The file still exists!

---

## 📸 Visual Diagram

![Docker volume mapping](https://raw.githubusercontent.com/docker/labs/main/beginner/static/images/volumes.png)

_Source: [Docker Labs GitHub](https://github.com/docker/labs)_

This image shows how the volume maps to a host path and persists outside the
container lifecycle.

---

## ⚖️ `--mount` vs `-v` Comparison

| Feature                | `--mount`                        | `-v` / `--volume`             |
| ---------------------- | -------------------------------- | ----------------------------- |
| Readability            | ✅ More explicit and descriptive | ❌ Less descriptive           |
| Flexibility            | ✅ Supports more options         | ❌ Limited flexibility        |
| Volume driver plugins  | ✅ Easier to integrate           | ❌ Less readable when complex |
| Docker Compose support | ✅ Yes                           | ✅ Yes                        |
| Common for scripting   | ❌ Verbose                       | ✅ Concise                    |

---

## Questions and Answers

### Q1: What’s the main benefit of using Docker volumes?

**A:** Volumes allow **data persistence** across container restarts and
deletion, enabling reliable storage for stateful applications.

---

### Q2: How does the `--mount` option differ from `-v`?

**A:**

- `--mount` is **explicit** and recommended for clarity.
- `-v` is **shorter** and quicker to type but less expressive.

---

### Q3: Where does Docker store volume data on the host?

**A:** By default, under:

```
/var/lib/docker/volumes/<volume-name>/_data
```

---

### Q4: Does removing a container delete its volume?

**A:** **No.** Volumes persist independently and must be deleted explicitly:

```bash
docker volume rm <volume-name>
```

---

## Next Topics

- Bind mounts vs volumes
- Backup and restore strategies
- Working with volume drivers and plugins

---
