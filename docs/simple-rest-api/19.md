---
id: open-api
title: Open API doc
sidebar_label: Open API implementation
---


---


## **Spring Doc Open API**, 
which is a powerful library for automatically generating API documentation for Spring Boot
applications. This documentation is in the OpenAPI 3.0 format and can be
visualized through Swagger UI.

#### Key Concepts:

1. **Spring Doc Open API**:

   - A library that integrates with **Spring Boot** to automatically generate
     OpenAPI 3.0 compliant documentation for your REST APIs.
   - It infers API semantics from your Spring configuration, class structure,
     and annotations. The end result is an OpenAPI specification that defines
     your API endpoints, expected request/response formats, and more.

2. **OpenAPI 3.0**:

   - OpenAPI 3.0 is the standard for defining APIs in a machine-readable format,
     allowing tools like Swagger UI to render interactive documentation for
     developers.
   - The structure of an OpenAPI 3.0 spec includes:
     - **Info**: Metadata about the API (e.g., title, version).
     - **Servers**: The locations where the API is available.
     - **Paths**: Defines the available resources (e.g., `/users`) and their
       operations (GET, POST, etc.).
     - **Components**: Reusable definitions, such as schemas for
       request/response bodies.

3. **Swagger UI**:

   - Swagger UI is a tool that dynamically visualizes and allows interaction
     with the OpenAPI specification. It's useful for testing and exploring API
     endpoints directly from the documentation.

4. **Integration with Spring Boot**:
   - The Spring Doc Open API library automatically generates documentation based
     on the REST controllers in your Spring Boot application. It reads the
     annotations (`@GetMapping`, `@PostMapping`, etc.) and creates an OpenAPI
     spec accordingly.
   - The library also supports runtime reflection, meaning it can dynamically
     understand and update the API documentation without needing manual updates.

---

### Example:

Let’s break down an example from the transcript, where there’s a **User API**
defined with the following operations:

```
- **GET /users** – Retrieves a list of all users.
- **POST /users** – Creates a new user.
- **GET /users/{id}** – Retrieves details of a specific user based on their
  `id`.
- **DELETE /users/{id}** – Deletes a user based on their `id`.
```

The OpenAPI spec generated by Spring Doc Open API would look like this for the
`GET /users` endpoint:

```yaml
paths:
  /users:
    get:
      summary: Get all users
      operationId: retrieveAllUsers
      responses:
        "200":
          description: A list of users
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/User"
```

This YAML snippet is part of the OpenAPI 3.0 specification. It defines:

- The **HTTP method** (`GET`).
- A **summary** of what the endpoint does.
- The **operation ID** that can be mapped to a method in the backend code.
- The **response type** (200 OK), indicating that the response will be a list of
  users in JSON format.

The **components** section of the OpenAPI spec would define the `User` schema,
which might look like:

```yaml
components:
  schemas:
    User:
      type: object
      properties:
        id:
          type: integer
        name:
          type: string
        birthDate:
          type: string
          format: date
      required:
        - id
        - name
```

This schema describes the structure of a `User` object.

---

### Advanced Concepts:

- **Customizing Swagger UI**: You can customize the way the Swagger UI is
  presented, such as modifying the themes, including authentication tokens for
  secured APIs, and adding documentation for custom HTTP responses.
- **Model Validation in OpenAPI**: Annotations like `@NotNull`, `@Size`, and
  others in your Java model can be used to enforce validation constraints. These
  constraints are automatically reflected in the generated OpenAPI spec.
- **API Versioning**: In the OpenAPI spec, versioning can be defined to manage
  multiple versions of an API (e.g., `/v1/users` vs `/v2/users`), allowing you
  to evolve your API over time while maintaining backward compatibility.

---

### Questions and Answers

**Q1: What is the role of the `components` section in an OpenAPI
specification?**

**A1**:  
The `components` section defines reusable schemas and other elements (e.g.,
responses, parameters) that are referenced throughout the OpenAPI specification.
For example, the schema for a `User` object can be defined once in the
`components` section and reused wherever necessary. This helps to avoid
redundancy and ensures that changes to a schema are propagated throughout the
API documentation.

**Q2: How does Spring Doc Open API handle custom annotations for non-standard
endpoints?**

**A2**:  
Spring Doc Open API uses reflection to examine Spring's annotations at runtime.
For custom or non-standard annotations, Spring Doc Open API might not generate
automatic documentation unless you provide custom configuration. You can extend
its capabilities by using annotations like `@Operation` or `@ApiResponse` to
customize how operations and responses are documented. If custom annotations are
used for complex logic or advanced functionality, you'll likely need to
configure them manually in the OpenAPI spec.

**Q3: Why is it important to ensure the correct version of Spring Doc Open API
is used when working with Spring Boot 3?**

**A3**:  
Spring Doc Open API initially supported Spring Boot versions 1.x and 2.x.
However, the version of Spring Doc Open API compatible with Spring Boot 3 is
under development. The **2.x branch** (specifically the `2.0.0-M4` milestone
release) is designed to work with Spring Boot 3. Using the correct version
ensures compatibility with new features and dependencies introduced in Spring
Boot 3.

**Q4: How does the integration of OpenAPI and Swagger UI improve the developer
experience when working with REST APIs?**

**A4**:  
The integration of OpenAPI with Swagger UI significantly enhances the developer
experience by providing:

- **Interactive documentation**: Developers can view API documentation in a
  user-friendly format and test API endpoints directly through Swagger UI.
- **Automated updates**: Since the documentation is generated automatically from
  the code, any changes to the API (like adding new endpoints) will reflect in
  the documentation without needing to manually update separate docs.
- **Validation of requests and responses**: Developers can see the expected
  request bodies, response formats, and status codes in one place, minimizing
  errors.

---

## Examples

Perfect — your instructions are super clear now.

Here’s exactly what I’ll do for **each topic** discussed in the transcript:
- Set `id`, `title`, and `sidebar_label` based on the actual topic name (no generic labels like "Instructor explanation").
- **Explain** the topic clearly and practically (no mentioning "the instructor said" or anything like that).
- **Provide Code Examples**: Give simple working code snippets first.
- **Show Optimized Approaches**: Explain better or more efficient ways if there are multiple ways to solve/implement.
- **Make it practical**: Like how you would want it if you were learning and wanted to apply it directly.

---

Example of how I’ll format one topic for you:

```markdown
---
id: spring-doc-openapi-integration
title: Spring Doc OpenAPI Integration
sidebar_label: Spring Doc OpenAPI Integration
---

Spring Doc OpenAPI helps generate documentation for REST APIs automatically using annotations in Spring Boot projects. It replaces Swagger 2 and integrates easily with Spring Boot.

### Basic Setup

First, add the dependency to your `pom.xml`:

```xml
<dependency>
  <groupId>org.springdoc</groupId>
  <artifactId>springdoc-openapi-starter-webmvc-ui</artifactId>
  <version>2.5.0</version>
</dependency>
```

### Simple Example

Suppose you have a simple REST controller:

```java
@RestController
@RequestMapping("/api/users")
public class UserController {

    @GetMapping("/{id}")
    public User getUserById(@PathVariable Long id) {
        return new User(id, "John Doe");
    }
}
```

Once the project is running, you can access the OpenAPI documentation at:

```
http://localhost:8080/swagger-ui.html
```

or

```
http://localhost:8080/v3/api-docs
```

### Optimized Approach

To better organize your OpenAPI documentation:
- **Use `@Tag` and `@Operation` annotations** for detailed descriptions.

Example:

```java
@Tag(name = "User Controller", description = "Operations related to Users")
@RestController
@RequestMapping("/api/users")
public class UserController {

    @Operation(summary = "Get user by ID", description = "Returns a single user")
    @GetMapping("/{id}")
    public User getUserById(@PathVariable Long id) {
        return new User(id, "John Doe");
    }
}
```

This makes the Swagger UI much more readable and professional.
